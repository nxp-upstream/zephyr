CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_MKFS=y
CONFIG_LOG=y
CONFIG_FAT_FILESYSTEM_ELM=y

# Use the SD card partition table (MBR) instead of super-floppy formatting.
#
# - Enable FatFS multi-partition support and provide VolToPart[] mapping in the test.
# - Disable Zephyr's "format on mount" path for FatFS (it uses FM_SFD, ignoring MBR).
CONFIG_FS_FATFS_MULTI_PARTITION=y
CONFIG_FS_FATFS_MOUNT_MKFS=n

# Make sure FatFS drive 0 maps to the SD disk string "SD" on all platforms.
CONFIG_FS_FATFS_CUSTOM_MOUNT_POINT_COUNT=1
CONFIG_FS_FATFS_CUSTOM_MOUNT_POINTS="SD"

# Align FATFS internal window buffer and SDHC IO buffers.
CONFIG_FS_FATFS_WINDOW_ALIGNMENT=32

CONFIG_ZTEST=y
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_ZTEST_STACK_SIZE=2048
